<section class="metrics">
    <div class="metrics__bg"></div>
    <div class="metrics__glow"></div>

    <div class="metrics__content">
        <h1 class="metrics__title">
            Model Metrics & Performance
            <span class="metrics__title-fade">Machine Learning Pipeline Overview</span>
        </h1>

        <p class="metrics__intro">
            ExoHunter’s model integrates complementary AI approaches — combining statistical precision and deep learning
            pattern recognition — to classify exoplanets from official NASA data with scientific rigor and transparency.
        </p>

        <!-- PIPELINE SECTION -->
        <div class="pipeline">
            <div class="pipeline__card">
                <mat-icon class="pipeline__icon">tune</mat-icon>
                <h4>Phase 1</h4>
                <h2>Tabular Gradient Boosting</h2>
                <p>A LightGBM pipeline with median imputation, log1p normalization,
                    and ordinal encoding for categorical variables. Trained with group-aware
                    validation by stellar host to avoid data leakage.
                </p>
            </div>

            <div class="pipeline__card">
                <mat-icon class="pipeline__icon">auto_graph</mat-icon>
                <h4>Phase 2</h4>
                <h2>Neural network (1D-CNN)</h2>
                <p>A deep learning model built in TensorFlow/Keras that learns
                    from temporal and photometric patterns, detecting subtle variations in brightness typical of
                    planetary transits.</p>
            </div>

            <div class="pipeline__card">
                <mat-icon class="pipeline__icon">merge_type</mat-icon>
                <h4>Phase 3</h4>
                <h2>Ensemble Integration</h2>
                <p>Combines the strengths of both models through weighted voting,
                    achieving robust performance across diverse detection methods.
                </p>
            </div>
        </div>

        <mat-divider></mat-divider>

        <!-- FINAL PERFORMANCE -->
        <div class="metrics__section">
            <h3><mat-icon>insights</mat-icon> Final Model Performance</h3>
            <p>
                ExoHunter’s performance was achieved and validated exclusively on <strong>official NASA
                    datasets</strong>.
                No synthetic or fabricated data was introduced during training, ensuring scientific authenticity and
                reproducibility.
            </p>

            <!-- PERFORMANCE SUMMARY -->
            <div class="metrics__summary">
                <mat-card class="score-card">
                    <h3>Model Evaluation Summary</h3>
                    <div class="score-grid">
                        <div class="score">
                            <span class="score__label">ROC-AUC</span>
                            <span class="score__value">0.951</span>
                        </div>

                        <div class="score">
                            <span class="score__label">PR-AUC</span>
                            <span class="score__value">0.919</span>
                        </div>

                        <div class="score">
                            <span class="score__label">Accuracy</span>
                            <span class="score__value">0.882</span>
                        </div>

                        <div class="score">
                            <span class="score__label">F1-Score</span>
                            <span class="score__value">0.928</span>
                        </div>

                        <div class="score">
                            <span class="score__label">Threshold</span>
                            <span class="score__value">0.500</span>
                        </div>
                    </div>

                </mat-card>
            </div>


            <!-- PERFORMANCE CHARTS -->
            <div class="metrics__charts">
                <div class="chart-container">
                    <mat-card class="graph-card">
                        <img src="/matriz.jpg" alt="Confusion Matrix" />
                        <h4>Confusion Matrix</h4>
                        <p class="chart-description">
                            The confusion matrix shows classifier performance with a 0.5 threshold. 
                            The <strong>712 true negatives</strong> and <strong>1307 true positives</strong> 
                            demonstrate high precision, while the <strong>65 false positives</strong> and 
                            <strong>54 false negatives</strong> represent model errors. 
                            This distribution indicates excellent balance between sensitivity and specificity.
                        </p>
                    </mat-card>
                </div>

                <div class="chart-container">
                    <mat-card class="graph-card">
                        <img src="/training_report.roc.png" alt="ROC Curve" />
                        <h4>ROC Curve Analysis</h4>
                        <p class="chart-description">
                            The ROC (Receiver Operating Characteristic) curve evaluates classifier performance 
                            across different thresholds. The <strong>AUC of 0.951</strong> indicates 
                            exceptional ability to distinguish between exoplanets and non-exoplanets. 
                            The curve approaches very close to the ideal point (0,1), showing high sensitivity 
                            with low false positive rate.
                        </p>
                    </mat-card>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <div class="metrics__footer">
            <a color="primary" routerLink="/explorer" class="btn-primary">
                <mat-icon>travel_explore</mat-icon>
                Analyze Datasets
            </a>
            <a mat-flat-button routerLink="/home" class="btn-secondary">
                <mat-icon>home</mat-icon>
                Back to Home
            </a>
        </div>
    </div>
</section>